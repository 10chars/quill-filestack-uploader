!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([function(e,t){e.exports=Quill},function(e,t,n){"use strict";n.r(t),n.d(t,"FilestackUploader",function(){return o});var i=n(0),r=n.n(i),o=function(){return function(e,t){var n=this;this.selectImage=function(){n.range=n.quill.getSelection(),n.picker.open()},this.handleDrop=function(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length){if(document.caretRangeFromPoint){var t=document.getSelection();n.range=document.caretRangeFromPoint(e.clientX,e.clientY),t&&n.range&&t.setBaseAndExtent(n.range.startContainer,n.range.startOffset,n.range.startContainer,n.range.startOffset)}n.uploadToFilestack(e.dataTransfer.files[0]).then(function(e){return n.insertToEditor(e)}).catch(function(e){return console.error(e)})}},this.handlePaste=function(e){e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length&&n.uploadToFilestack(e.clipboardData.items[0]).then(function(e){n.range=n.quill.getSelection(),n.range||setTimeout(function(){return n.insertToEditor(e)},0)}).catch(function(e){return console.error(e)})},this.uploadToFilestack=function(e){return e.type.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\.microsoft\.icon)/i)?n.client.upload(e):Promise.resolve()},this.insertToEditor=function(e){var t=n.range;n.quill.insertEmbed(t.index,"image",""+e.url),t.index++,n.quill.setSelection(t.index,"api"),n.picker.close()},this.quill=e,this.range=null,this.options=t,this.filestack=t.filestack||window.filestack,this.client=this.filestack.init(this.options.filestackApiKey),this.picker=this.client.picker({fromSources:this.options.fromSources||["local_file_system","googledrive","url","imagesearch"],maxFiles:1,uploadInBackground:!1,onUploadDone:function(e){var t=e.filesUploaded[0];n.insertToEditor(t)}}),void 0===t.filestackApiKey&&console.warn("[Options Error] Filestack API key required"),void 0===t.filestack&&void 0===window.filestack&&console.warn("[Error] Filestack instance required"),this.quill.getModule("toolbar").addHandler("image",this.selectImage),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}}();r.a.register("modules/filestackUploader",o)}]);